# RECORD
## [RECORD:New Simulink Test Tool](https://github.com/Simulink-Testing-Code/RECORD.git)
**Matlab env dependencies:**
1. **Matlab 2021a**
2. **Simulink default**
***
### Datatest:
If you wish to use publicly available datasets, you can access *[third-party datasets](https://drive.google.com/drive/folders/173ik08oi3BCnPzjlZkHYhMAkp93zW-V4?usp=sharing)*. If you wish to use a random model, 
you can visit *[Dr. Shafiul's homepage](https://github.com/verivital/slsf_randgen/wiki)*. Get the latest experimental model generation tools SLFORGE/CYFUZZ

##### [SLforge: Automatically Finding Bugs in a Commercial Cyber-Physical Systems Development Tool](https://github.com/verivital/slsf_randgen/wiki#getting-slforge)
**The format of the model is divided into mdl and slx according to the Simulink standard. If you use some third-party open source models, make sure that the dependencies 
between the models and the data are loaded into your memory. We do not recommend using third-party models in unfiltered conditions, which will cause your computer
to crash abnormally. Please be careful**
***
### Our Works
We are dedicated to testing the stability of the `CPS` `(Cyber-Physical System)` development tool, Simulink. Our work mainly relies on reinforcement learning techniques to alter the CPS model generator and detect Simulink vulnerabilities through `difference testing`.
We first determined the relevant characteristics of the test model, including the number of modules and connecting lines of the model, the cyclomatic complexity of the model, and the number of layers and layers of the model subsystem. Then use reinforcement learning to train the parameters of the CPS model generator (SLforge), generate more diverse CPS models, and use different simulation modes of Simulink to compare the simulation results of the models, so as to fully test the CPS tool chain to find potential defects in Simulink.

***
### Hello World
Before starting, the number of models ```NUM_TESTS``` generated by the generator at one time and the number of top-level blocks contained in each model ```NUM_BLOCKS ``` can be changed in the file ```slsf/SLDQN/dqncfg.m```, and due to partial code needs, you should also configure The python environment corresponding to the Matlab version, ie.```dqncfg.PYTHON_PATH```, please refer to (https://ww2.mathworks.cn/help/matlab/matlab_external/install-supported-python-implementation.html) for details. Note: The nltk library package needs to be included in the python environment.

After the configuration is complete, go to the `slsf/SLDQN` directory to start running RECORD, you need to run this on the Matlab command line:

````DQN_main````

This will help you get started with RECORD tools.

***

### Here are the details of these bugs
These errors in the error file can be reproduced using Matlab R2021a, in addition to that there may be bug 05536009 in Matlab R2022a.

You can find all bug files in path `slsf/BUG`.

Each bug folder contains the model in which the bug was found, and you can reproduce this bug in the data comparator provided by Matlab. If the problem with the wrong model is not in acceleration mode or zero-crossing detection mode, then you can run and see the problem. If the problem with the folder is in accelerated mode or zero-crossing detection mode, in order to reproduce the problem, you will need to run the model separately in the different modes. For example, a case where the zero-crossing detection model is wrong is the inconsistency between the heuristic zero-crossing detection algorithm and the zero-crossing detection algorithm disabled.

05246986	Data exceptions caused by different simulation operations

05290681	Inconsistent data in different simulation modes  

05313680	MIN module mishandling nan and 0 values  

05405363	Models with if-action subsystems don`t compile in accelerator  

05474416	Compilation fails due to zero-crossing detection in acceler  

05385318	UnitDelay module Accelerator data exception in the If subsystem

05385316	Model JIT Accelerated Simulation Generate File Failed  

05372237 	Unreasonable compilation error prompt 

05313899	Max module acceleration simulation exception 

05309988	In accelerated simulation, abnormal data loss occurs in sum module  

05290678    Data loss and inconsistency in different simulation modes

05474416    Compilation fails due to zero-crossing detection in acceler

05536009    Model data anomalies caused by zero-crossing detection
***
**Thanks to MathWorks consultants Zouyi Yang, Lily Yan, and Jyotirmay for their support. We've had so much help from MathWorks staff in finding and confirming bugs that we can't list them all. I would like to express my gratitude here.**
